<div class="course-container">
  <!-- Sökfält -->
  <div class="filter-section">
    <label for="search">Sök kurser:</label>
    <input
      type="text"
      id="search"
      [(ngModel)]="searchTerm"
      (ngModelChange)="applyFilters()"
      placeholder="Sök på kurskod eller kursnamn"
    />
  </div>

  <!-- Filtera kurser på ämne -->
  <div class="filter-bar">
    <label for="subjectFilter">Filtrera efter ämne:</label>

<select (change)="applyFilters()" [(ngModel)]="selectedSubject">
  <option value="">Alla ämnen</option>
  <option *ngFor="let subject of uniqueSubjects" [value]="subject">
    {{ subject }}
  </option>
</select>

  </div>

  <!-- Kurslistan -->
  <div class="course-table">
  <p>Antal kurser som visas: {{ filteredCourses.length }}</p>
 <table>
    <thead>
      <tr>
        <th (click)="sortColumn = 'courseCode'; toggleSortDirection()" [class.sorted]="sortColumn === 'courseCode'">
          Kurskod
          <span *ngIf="sortColumn === 'courseCode'">{{ sortAsc ? '↑' : '↓' }}</span>
        </th>
        <th (click)="sortColumn = 'courseName'; toggleSortDirection()" [class.sorted]="sortColumn === 'courseName'">
          Kursnamn
          <span *ngIf="sortColumn === 'courseName'">{{ sortAsc ? '↑' : '↓' }}</span>
        </th>
        <th (click)="sortColumn = 'points'; toggleSortDirection()" [class.sorted]="sortColumn === 'points'">
          Poäng
          <span *ngIf="sortColumn === 'points'">{{ sortAsc ? '↑' : '↓' }}</span>
        </th>
        <th (click)="sortColumn = 'subject'; toggleSortDirection()" [class.sorted]="sortColumn === 'subject'">
          Ämne
          <span *ngIf="sortColumn === 'subject'">{{ sortAsc ? '↑' : '↓' }}</span>
        </th>
        <th>Kursplan</th> <!-- Ny kolumn för kursplan -->
        <th>Lägg till</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let course of filteredCourses">
        <td>{{ course.courseCode }}</td>
        <td>{{ course.courseName }}</td>
        <td>{{ course.points }}</td>
        <td>{{ course.subject }}</td>
        <td>
          <!-- Länk till kursplanen -->
          <a [href]="course.syllabus" target="_blank">Visa kursplan</a>
        </td>
        <td>
          
          <button class="add-button"  (click)="addToSchedule(course)">Lägg till</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>



  <!-- Visar antal kurser i den aktuella listan -->
  <div class="course-count">
    <p>Antal kurser i sökresultat: {{ filteredCourses.length }}</p>
  </div>
</div>
